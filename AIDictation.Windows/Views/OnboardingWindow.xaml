<Window x:Class="AIDictation.Views.OnboardingWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="AIDictation Setup"
        Width="600" Height="500"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="{StaticResource BackgroundBrush}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="60"/>
        </Grid.RowDefinitions>

        <!-- Content Pages -->
        <Grid Grid.Row="0" Margin="40">
            <!-- Step 1: Microphone -->
            <StackPanel x:Name="Step1" VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="ðŸŽ™ï¸" FontSize="64" HorizontalAlignment="Center"/>
                <TextBlock Text="Microphone Access"
                           Style="{StaticResource TitleText}"
                           HorizontalAlignment="Center"
                           Margin="0,24,0,0"/>
                <TextBlock Text="AIDictation needs access to your microphone to record and transcribe your voice."
                           Style="{StaticResource SecondaryText}"
                           TextAlignment="Center"
                           MaxWidth="400"
                           Margin="0,16,0,0"/>
                <Button Content="Open Windows Settings"
                        Style="{StaticResource PrimaryButton}"
                        HorizontalAlignment="Center"
                        Margin="0,32,0,0"
                        Click="OpenMicrophoneSettings_Click"/>
            </StackPanel>

            <!-- Step 2: Hotkey -->
            <StackPanel x:Name="Step2" VerticalAlignment="Center" HorizontalAlignment="Center" Visibility="Collapsed">
                <TextBlock Text="âŒ¨ï¸" FontSize="64" HorizontalAlignment="Center"/>
                <TextBlock Text="Recording Hotkey"
                           Style="{StaticResource TitleText}"
                           HorizontalAlignment="Center"
                           Margin="0,24,0,0"/>
                <TextBlock Text="Set a global hotkey to start/stop recording from anywhere."
                           Style="{StaticResource SecondaryText}"
                           TextAlignment="Center"
                           MaxWidth="400"
                           Margin="0,16,0,0"/>

                <Border Background="{StaticResource SurfaceBrush}"
                        BorderBrush="{StaticResource BorderBrush}"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="24,16"
                        Margin="0,24,0,0"
                        Cursor="Hand"
                        MouseLeftButtonDown="HotkeyBox_Click">
                    <TextBlock x:Name="HotkeyDisplay"
                               Text="Click to set hotkey..."
                               FontSize="18"
                               HorizontalAlignment="Center"
                               Foreground="{StaticResource TextSecondaryBrush}"/>
                </Border>

                <TextBlock Text="Tip: Ctrl+Shift+R works well"
                           Style="{StaticResource CaptionText}"
                           HorizontalAlignment="Center"
                           Margin="0,12,0,0"/>
            </StackPanel>

            <!-- Step 3: API Key -->
            <StackPanel x:Name="Step3" VerticalAlignment="Center" HorizontalAlignment="Center" Visibility="Collapsed">
                <TextBlock Text="ðŸ”‘" FontSize="64" HorizontalAlignment="Center"/>
                <TextBlock Text="OpenAI API Key"
                           Style="{StaticResource TitleText}"
                           HorizontalAlignment="Center"
                           Margin="0,24,0,0"/>
                <TextBlock Text="Enter your OpenAI API key to enable transcription. Your key is stored securely on your device."
                           Style="{StaticResource SecondaryText}"
                           TextAlignment="Center"
                           MaxWidth="400"
                           Margin="0,16,0,0"/>

                <TextBox x:Name="ApiKeyTextBox"
                         Style="{StaticResource ModernTextBox}"
                         Width="400"
                         Margin="0,24,0,0"
                         PasswordChar="â€¢"/>

                <TextBlock Style="{StaticResource CaptionText}"
                           HorizontalAlignment="Center"
                           Margin="0,12,0,0">
                    <Run Text="Get your API key from "/>
                    <Hyperlink NavigateUri="https://platform.openai.com/api-keys"
                               RequestNavigate="Hyperlink_RequestNavigate">
                        platform.openai.com
                    </Hyperlink>
                </TextBlock>
            </StackPanel>

            <!-- Step 4: Complete -->
            <StackPanel x:Name="Step4" VerticalAlignment="Center" HorizontalAlignment="Center" Visibility="Collapsed">
                <TextBlock Text="âœ…" FontSize="64" HorizontalAlignment="Center"/>
                <TextBlock Text="You're All Set!"
                           Style="{StaticResource TitleText}"
                           HorizontalAlignment="Center"
                           Margin="0,24,0,0"/>
                <TextBlock Text="AIDictation is ready to use. Press your hotkey from anywhere to start recording."
                           Style="{StaticResource SecondaryText}"
                           TextAlignment="Center"
                           MaxWidth="400"
                           Margin="0,16,0,0"/>

                <StackPanel Margin="0,24,0,0" HorizontalAlignment="Center">
                    <TextBlock Style="{StaticResource BodyText}" Margin="0,4">
                        <Run Text="â€¢ Hold hotkey to record"/>
                    </TextBlock>
                    <TextBlock Style="{StaticResource BodyText}" Margin="0,4">
                        <Run Text="â€¢ Release to transcribe"/>
                    </TextBlock>
                    <TextBlock Style="{StaticResource BodyText}" Margin="0,4">
                        <Run Text="â€¢ Access settings from system tray"/>
                    </TextBlock>
                </StackPanel>
            </StackPanel>
        </Grid>

        <!-- Page Indicators -->
        <StackPanel Grid.Row="1"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Margin="0,0,0,16">
            <Ellipse x:Name="Dot1" Width="8" Height="8" Fill="{StaticResource PrimaryBrush}" Margin="4"/>
            <Ellipse x:Name="Dot2" Width="8" Height="8" Fill="{StaticResource BorderBrush}" Margin="4"/>
            <Ellipse x:Name="Dot3" Width="8" Height="8" Fill="{StaticResource BorderBrush}" Margin="4"/>
            <Ellipse x:Name="Dot4" Width="8" Height="8" Fill="{StaticResource BorderBrush}" Margin="4"/>
        </StackPanel>

        <!-- Navigation Buttons -->
        <Grid Grid.Row="2" Margin="40,0">
            <Button x:Name="BackButton"
                    Content="â† Back"
                    Style="{StaticResource SecondaryButton}"
                    HorizontalAlignment="Left"
                    Visibility="Collapsed"
                    Click="BackButton_Click"/>
            <Button x:Name="NextButton"
                    Content="Next â†’"
                    Style="{StaticResource PrimaryButton}"
                    HorizontalAlignment="Right"
                    Click="NextButton_Click"/>
        </Grid>
    </Grid>
</Window>
